---
import HeaderLink from './HeaderLink.astro';
---

<header class="p-5 bg-white m-0 border-b lg:border-b-0 lg:border-r">
	<nav class="flex flex-col flex-start p-1">
		<div class="flex flex-row justify-between">
			<a href="/"><img class="w-2/3 lg:w-full max-w-xs" src="/WolvHavenLogo.png"/></a>
			<a id="toggleNavBar" class="lg:hidden border-2 rounded-lg p-2 self-center"><img id="hamburgerIcon" class="w-5" src="/bars-solid.svg"></a>
		</div>
			
		<div id="navBarItems" class="hidden lg:block flex flex-col flex-start mt-3 space-y-2">
			<div class="flex flex-col flex-start gap-2">
				<HeaderLink href="/">Home</HeaderLink>
				<HeaderLink href="/news">News</HeaderLink>
			</div>
			<div class="flex flex-col flex-start gap-2">
				<p class="uppercase tracking-widest text-sm text-gray-400 -mb-0.5">Gamemodes & Worlds</p>
				<HeaderLink href="/wolvhaven">WolvHaven City</HeaderLink>
				<HeaderLink href="/city-build">Creative City-Build</HeaderLink>
			</div>
			<div class="flex flex-col flex-start gap-2">
				<p class="uppercase tracking-widest text-sm text-gray-400 -mb-0.5">Information</p>
				<HeaderLink href="/rules">Server rules</HeaderLink>
				<HeaderLink  href="/ranks">Ranks</HeaderLink>
				<HeaderLink href="/staff">Staff</HeaderLink>
				<HeaderLink href="/commands">Commands &amp; Plugins</HeaderLink>
				<HeaderLink href="/forms">Application forms</HeaderLink>
				<HeaderLink href="/culture-safety">Culture & safety</HeaderLink>
				<HeaderLink href="/appeal">Appeal a penalty</HeaderLink>
				<HeaderLink external href="http://play.wolvhaven.net:8123/">Dynmap</HeaderLink>
			</div>
			<div class="flex flex-col flex-start gap-2">
				<p class="uppercase tracking-widest text-sm text-gray-400 -mb-0.5">Socials</p>
				<HeaderLink external href="https://www.youtube.com/@WolvHaven" >YouTube</HeaderLink>
				<HeaderLink external href="https://www.instagram.com/wolvhaven/">Instagram</HeaderLink>
				<HeaderLink external href="https://www.tiktok.com/@play.wolvhaven.net">TikTok</HeaderLink>
				<HeaderLink external href="https://bsky.app/profile/wolvhaven.net">Bluesky</HeaderLink>
				<HeaderLink external href="https://www.facebook.com/WolvHaven">Facebook</HeaderLink>
				<HeaderLink external href="https://www.youtube.com/@WolvHavenCommunity">Community YouTube</HeaderLink>
				<HeaderLink external href="https://www.reddit.com/r/WolvHaven/">Reddit</HeaderLink>
			</div>
		</div>
		
	</nav>
</header>

<script>
	const hamburgerBtn = document.getElementById("toggleNavBar")
	const hamburgerIcon = document.getElementById("hamburgerIcon") as HTMLImageElement;
	const menuItems = document.getElementById("navBarItems");

	let navBarVisible = false;

	if(!hamburgerBtn || !hamburgerIcon || !menuItems) return;

	hamburgerBtn.addEventListener("click", ()=> {
		navBarVisible = !navBarVisible;
		if(navBarVisible){
			hamburgerIcon.src = "/xmark-solid.svg"
			menuItems.classList.remove("hidden");
		}else{
			hamburgerIcon.src = "/bars-solid.svg"
			menuItems.classList.add("hidden");
		}
	});
</script>